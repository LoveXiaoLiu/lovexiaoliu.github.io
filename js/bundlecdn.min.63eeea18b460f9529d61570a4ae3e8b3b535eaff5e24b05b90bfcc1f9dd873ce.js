(function(){var method;var noop=function(){};var methods=['assert','clear','count','debug','dir','dirxml','error','exception','group','groupCollapsed','groupEnd','info','log','markTimeline','profile','profileEnd','table','time','timeEnd','timeline','timelineEnd','timeStamp','trace','warn'];var length=methods.length;var console=(window.console=window.console||{});while(length--){method=methods[length];if(!console[method]){console[method]=noop;}}}());(function($){$('table tr td:first-child').on('click touch',function(){$(this).parent().toggleClass('active');$(this).parent().siblings().removeClass('active');})
var tables=document.getElementsByTagName('table');for(i=0;i<tables.length;i++){var headers=tables[i].getElementsByTagName('th'),rows=tables[i].getElementsByTagName('tr'),header=[];for(h=0;h<headers.length;h++){header.push(headers[h].textContent);}
for(r=0;r<rows.length;r++){var cells=rows[r].getElementsByTagName('td');for(c=0;c<cells.length;c++){if(cells[c].getAttribute('data-header')==undefined&&header[c]!==undefined){cells[c].setAttribute('data-header',header[c]);}
if(cells[c].innerHTML.trim()=='Yes'){cells[c].innerHTML='<i class="fa fa-check" aria-hidden="true" style="color:green"></i>';}
if(cells[c].innerHTML.trim()=='Free'){cells[c].innerHTML='<i class="fa fa-check" aria-hidden="true" style="color:green"></i>';}
if(cells[c].innerHTML.trim()=='No'){cells[c].innerHTML='<i class="fa fa-times" aria-hidden="true" style="color:red"></i>';}}}}})(jQuery);;var toggles={".search-toggle":"#search-input",".lang-toggle":"#lang-menu",".share-toggle":"#share-menu",".nav-toggle":"#site-nav-menu"};$.each(toggles,function(toggle,menu){$(toggle).on("click",function(){if($(menu).hasClass("active")){$(".menu").removeClass("active");$("#wrapper").removeClass("overlay");}else{$("#wrapper").addClass("overlay");$(".menu").not($(menu+".menu")).removeClass("active");$(menu).addClass("active");if(menu=="#search-input"){$("#search-results").toggleClass("active");}}});});$(document).on("click",function(e){if($(e.target).is(".lang-toggle, .lang-toggle span, #lang-menu, .share-toggle, .share-toggle i, #share-menu, .search-toggle, .search-toggle i, #search-input, #search-results .mini-post, .nav-toggle, .nav-toggle i, #site-nav")===false){$(".menu").removeClass("active");$("#wrapper").removeClass('overlay');}});$(window).scroll(function(){if($(this).scrollTop()){$('#back-to-top').fadeIn();}else{$('#back-to-top').fadeOut();}});$('#back-to-top').click(function(){$('html, body').animate({scrollTop:0},1000);return false;});var idx=null;var resultDetails=[];var $searchResults;var $searchInput;window.onload=function(){var request=new XMLHttpRequest();var query='';$searchResults=document.getElementById('search-results');$searchInput=document.getElementById('search-input');var lang=document.documentElement.lang;var pathArgs=["","index.json"];if(lang!="en"){pathArgs.splice(1,0,lang);}
path=pathArgs.join("/");request.open("GET",path,true);request.onload=function(){if(request.status>=200&&request.status<400){var documents=JSON.parse(request.responseText);idx=lunr(function(){this.ref('ref');this.field('title');this.field('data');this.field('description');this.field('body');documents.forEach(function(doc){this.add(doc);resultDetails[doc.ref]={'title':doc.title,'date':doc.date,'description':doc.description,};},this);});}else{$searchResults.innerHTML='<article class="mini-post"><main><p>Error loading search results...</p></main></a></article>';}};request.onerror=function(){$searchResults.innerHTML='<article class="mini-post"><main><p>Error loading search results...</p></main></a></article>';};request.send();registerSearchHandler();};function registerSearchHandler(){$searchInput.oninput=function(event){var query=event.target.value;var results=search(query);renderSearchResults(results);if($searchInput.value==''){$searchResults.innerHTML='';}}}
function renderSearchResults(results){var container=document.createElement('div');if(results.length>0){results.forEach(function(result){container.innerHTML+='<article class="mini-post"><a href="'+result.ref+'"><header><h2>'+resultDetails[result.ref].title+'</h2><time class="published" datetime="">'+resultDetails[result.ref].date+'</time></header><main><p>'+resultDetails[result.ref].description+'</p></main></a></article>';});while($searchResults.hasChildNodes()){$searchResults.removeChild($searchResults.lastChild);}}else{$searchResults.innerHTML='<article class="mini-post"><main><p>No Results Found...</p></main></a></article>';}
$searchResults.innerHTML=container.innerHTML;}
function search(query){return idx.search(query);};(function(){let form=document.querySelector('.new-comment');if(form){form.querySelector('#comment-form-submit').addEventListener('click',function(){form.classList.add('loading');form.querySelector('#comment-form-submit').classList.add('hidden');form.querySelector('#comment-form-submitted').classList.remove('hidden');let api='https://blog-comment-gra55.herokuapp.com/';let gitProvider='github';let username='LoveXiaoLiu';let repo='gra55_blog';let branch='master';let url=['https:/',api,'v3/entry',gitProvider,username,repo,branch,'comments'].join('/');let formObj=Object.fromEntries(new FormData(form));let xhrObj={fields:{},options:{}};Object.entries(formObj).forEach(([key,value])=>{let a=key.indexOf('['),b=key.indexOf('reCaptcha');if(a==-1){xhrObj[key]=value;}else if(a==6||(a==7&&b==-1)){xhrObj[key.slice(0,a)][key.slice(a+1,-1)]=value;}else{xhrObj.options.reCaptcha=xhrObj.options.reCaptcha||{};xhrObj.options.reCaptcha[key.slice(b+11,-1)]=value;}});let formData=JSON.stringify(xhrObj);let xhr=new XMLHttpRequest();xhr.open('POST',url);xhr.setRequestHeader('Content-Type','application/json;charset=UTF-8');xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.DONE){let status=xhr.status;if(status>=200&&status<400){formSubmitted();}else{formError();}}};xhr.send(formData);});function formSubmitted(){showAlert('success');setTimeout(function(){clearForm()},3000);form.classList.remove('loading');}
function formError(){showAlert('failed');form.classList.remove('loading');}
function showAlert(msg){if(msg=='success'){form.querySelector('.submit-success').classList.remove('hidden');form.querySelector('.submit-failed').classList.add('hidden');}else{form.querySelector('.submit-success').classList.add('hidden');form.querySelector('.submit-failed').classList.remove('hidden');}
form.querySelector('#comment-form-submit').classList.remove('hidden');form.querySelector('#comment-form-submitted').classList.add('hidden');}
function clearForm(){resetReplyTarget();form.querySelector('.submit-success').classList.add('hidden');form.querySelector('.submit-failed').classList.add('hidden');}
function resetReplyTarget(){form.querySelector('.reply-notice .reply-name').innerText='';form.querySelector('.reply-notice').classList.add('hidden');Array.from(form.elements).filter(e=>e.name.indexOf('fields[reply')===0).forEach(e=>e.value='');}
document.querySelector('.comments-container').addEventListener('click',function(evt){let target=evt.target;if(target.matches('.comment-reply-btn')){resetReplyTarget();let cmt=target;while(!cmt.matches('.comment')){cmt=cmt.parentNode;}
form.querySelector('input[name="fields[replyThread]"]').value=cmt.dataset.replyThread;form.querySelector('input[name="fields[replyID]"]').value=cmt.getAttribute('id');let replyName=cmt.querySelector('.comment-author').innerText
form.querySelector('input[name="fields[replyName]"]').value=replyName;form.querySelector('.reply-notice').classList.remove('hidden');form.querySelector('.reply-name').innerText=replyName;}});form.querySelector('.reply-close-btn').addEventListener('click',resetReplyTarget);form.querySelector('#comment-form-reset').addEventListener('click',clearForm);}})();