<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ on Gra55&#39;s Blog</title>
    <link>/tags/%E5%88%9B%E5%BB%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</link>
    <description>Recent content in åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ on Gra55&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 15 Jan 2020 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="/tags/%E5%88%9B%E5%BB%BA%E5%9E%8B%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>è®¾è®¡æ¨¡å¼ # åˆ›å»ºå‹ # å•ä¾‹æ¨¡å¼</title>
      <link>/blog/2020/architecture/singleton-pattern/</link>
      <pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>/blog/2020/architecture/singleton-pattern/</guid>
      <description>0x00 æ¨¡å¼æ¦‚è¿° å•ä¾‹æ¨¡å¼æ˜¯æœ€ç®€å•çš„è®¾è®¡æ¨¡å¼ä¹‹ä¸€ï¼Œå±äºåˆ›å»ºå‹ï¼Œæä¾›äº†ä¸€ç§åˆ›å»ºå…¨å±€å”¯ä¸€å¯¹è±¡çš„æ–¹æ³•ã€‚
0x01 åœºæ™¯ åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œå¦‚æœéœ€è¦å…¨å±€å”¯ä¸€çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥åˆ›å»ºå¯¹è±¡ã€‚
0x02 è§£å†³æ–¹æ¡ˆ å•ä¾‹æ¨¡å¼æ ¹æ®å¯¹è±¡å®ä¾‹åŒ–çš„æ—¶æœºï¼Œåˆ’åˆ†ä¸ºæ‡’æ±‰å¼å’Œé¥¿æ±‰å¼ï¼Œé¡¾åæ€ä¹‰ï¼š
 é¥¿æ±‰å¼ï¼šåœ¨ç±»åˆå§‹åŒ–çš„æ—¶å€™ï¼Œå°±æå‰å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œç­‰åˆ°ä½¿ç”¨çš„æ—¶å€™ç›´æ¥è¿”å› æ‡’æ±‰å¼ï¼šåœ¨ç¬¬ä¸€æ¬¡å‡†å¤‡å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™æ‰çœŸæ­£åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå†æ­¤ä¹‹åçš„å®ä¾‹åŒ–éƒ½æ˜¯ç›´æ¥è¿”å›ç¬¬ä¸€æ¬¡åˆ›å»ºçš„å¯¹è±¡  é¥¿æ±‰å¼çš„ä¼˜åŠ¿æ˜¯å› ä¸ºå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå¯¹è±¡åœ¨ä½¿ç”¨ä¹‹å‰å·²ç»åˆ›å»ºäº†ã€‚è€Œæ‡’æ±‰å¼å°±å­˜åœ¨å¤šçº¿ç¨‹å¹¶å‘æƒ…å†µä¸‹ä¼šåˆ›å»ºå‡ºå¤šä¸ªå®ä¾‹å¯¹è±¡çš„é—®é¢˜ï¼Œæ‰€ä»¥å°±éœ€è¦åŠ é”ï¼ŒåŠ é”ä¼šå½±å“æ€§èƒ½ã€‚
0x03 æ€»ç»“ ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨é¥¿æ±‰å¼å°±å¯ä»¥äº†ï¼Œé™¤éæ˜ç¡®è¦æ±‚å»¶è¿Ÿåˆå§‹åŒ–ï¼ˆlazy initializationï¼‰ã€‚
 å‚è€ƒï¼š
ğŸ“Œ è®¾è®¡æ¨¡å¼ï¼ˆ45ç§ï¼‰
ğŸ“Œ Design patterns for humans ä¸­æ–‡ç‰ˆ</description>
    </item>
    
    <item>
      <title>è®¾è®¡æ¨¡å¼ # åˆ›å»ºå‹ # åŸå‹æ¨¡å¼</title>
      <link>/blog/2020/architecture/prototype-pattern/</link>
      <pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>/blog/2020/architecture/prototype-pattern/</guid>
      <description>0x00 æ¨¡å¼æ¦‚è¿° åŸå‹æ¨¡å¼ç”¨äºåˆ›å»ºé‡å¤çš„å¯¹è±¡ï¼Œè¯¥é‡å¤å¯¹è±¡çš„åˆ›å»ºæˆæœ¬æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥åŸå‹æ¨¡å¼é€šè¿‡ clone ç°æœ‰å¯¹è±¡æ¥å®Œæˆã€‚
0x01 åœºæ™¯ é€‚ç”¨äºåˆ›å»ºå®ä¾‹æˆæœ¬æ¯”è¾ƒé«˜çš„åœºæ™¯ï¼Œegï¼šåˆ›å»ºå¯¹è±¡æ—¶éœ€è¦å…ˆè¿æ¥æ•°æ®åº“ï¼Œè¿™ä¸ªæˆæœ¬å°±å¾ˆé«˜ï¼ŒåŸå‹æ¨¡å¼å¾ˆé€‚åˆã€‚
0x02 è§£å†³æ–¹æ¡ˆ // å…‹éš†ç¾Šå¤šåˆ© class Sheep { protected $name; protected $category; public function __construct(string $name, string $category = &amp;#39;Mountain Sheep&amp;#39;) { $this-&amp;gt;name = $name; $this-&amp;gt;category = $category; } public function setName(string $name) { $this-&amp;gt;name = $name; } public function getName() { return $this-&amp;gt;name; } public function setCategory(string $category) { $this-&amp;gt;category = $category; } public function getCategory() { return $this-&amp;gt;category; } } // client $original = new Sheep(&amp;#39;Jolly&amp;#39;); echo $original-&amp;gt;getName(); // Jolly echo $original-&amp;gt;getCategory(); // Mountain Sheep // Clone and modify what is required $cloned = clone $original; $cloned-&amp;gt;setName(&amp;#39;Dolly&amp;#39;); echo $cloned-&amp;gt;getName(); // Dolly echo $cloned-&amp;gt;getCategory(); // Mountain sheep 0x03 æ€»ç»“ è¿™ä¸ªæ¨¡å¼å¾ˆç®€å•ï¼Œå½“åˆ›å»ºçš„æˆæœ¬æ¯”è¾ƒé«˜æ—¶ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ clone çš„æ–¹å¼ï¼ˆåŸå‹æ¨¡å¼ï¼‰ã€‚</description>
    </item>
    
    <item>
      <title>è®¾è®¡æ¨¡å¼ # åˆ›å»ºå‹ # æ„å»ºå™¨æ¨¡å¼</title>
      <link>/blog/2020/architecture/builder-pattern/</link>
      <pubDate>Wed, 15 Jan 2020 00:00:00 +0000</pubDate>
      
      <guid>/blog/2020/architecture/builder-pattern/</guid>
      <description>0x00 æ¨¡å¼æ¦‚è¿° æ„å»ºå™¨æ¨¡å¼ç”¨æ¥åˆ›å»ºå¤æ‚çš„å¯¹è±¡ï¼Œè¯¥å¤æ‚å¯¹è±¡ç”±å¤šä¸ªæ­¥éª¤æ„å»ºè€Œæ¥ã€‚
ä¸ºäº†åˆ†ç¦»è¿™ç§å¤æ‚æ€§ï¼Œæ–°å¢ä¸€ä¸ªå¯¹è±¡ Builder æ¥ä¸€æ­¥ä¸€æ­¥åˆ›å»ºæœ€ç»ˆçš„å¯¹è±¡ï¼Œè¿™ç§åˆ›å»ºå®ä¾‹çš„æ–¹å¼çœŸçš„æ˜¯éå¸¸ä¼˜é›…ï¼Œåç»­å¦‚æœè¿›è¡Œéœ€æ±‚å˜æ›´ï¼Œéœ€è¦ä¿®æ”¹çš„å†…å®¹å°±å¾ˆå°‘ã€‚
0x01 åœºæ™¯ åˆ›å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡æ—¶ï¼ŒåŸºç¡€çš„å¯¹è±¡ä¸ä¼šå˜åŒ–ï¼Œä½†æ˜¯å…¶ç»„åˆä¼šç»å¸¸å˜åŒ–ï¼Œæ­¤æ—¶ä½¿ç”¨æ„å»ºå™¨æ¨¡å¼å°±éå¸¸æœ‰ç”¨ã€‚
0x02 è§£å†³æ–¹æ¡ˆ // å¤æ‚å¯¹è±¡ class Burger { protected $size; protected $pepperoni = false; protected $lettuce = false; protected $tomato = false; public function __construct(BurgerBuilder $builder) { $this-&amp;gt;size = $builder-&amp;gt;size; $this-&amp;gt;pepperoni = $builder-&amp;gt;pepperoni; $this-&amp;gt;lettuce = $builder-&amp;gt;lettuce; $this-&amp;gt;tomato = $builder-&amp;gt;tomato; } } // æ„é€ å™¨ç±» class BurgerBuilder { public $size; public $pepperoni = false; public $lettuce = false; public $tomato = false; public function __construct(int $size) { $this-&amp;gt;size = $size; } public function addPepperoni() { $this-&amp;gt;pepperoni = true; return $this; } public function addLettuce() { $this-&amp;gt;lettuce = true; return $this; } public function addTomato() { $this-&amp;gt;tomato = true; return $this; } public function build(): Burger { return new Burger($this); } } // client $burger = (new BurgerBuilder(14)) -&amp;gt;addLettuce() -&amp;gt;addTomato() -&amp;gt;build(); 0x03 æ€»ç»“ è¿™ä¸ªæ¨¡å¼å¾ˆç®€å•ï¼Œç®€å•ç†è§£å°±æ˜¯é€‚ç”¨äºå¤æ‚å¯¹è±¡çš„æ„é€ å‡½æ•°ä¼šç»å¸¸å˜æ›´çš„åœºæ™¯ã€‚</description>
    </item>
    
    <item>
      <title>è®¾è®¡æ¨¡å¼ # åˆ›å»ºå‹ # ç®€å•å·¥å‚ã€å·¥å‚æ–¹æ³•ã€æŠ½è±¡å·¥å‚</title>
      <link>/blog/2019/architecture/design-patterns-simple-factory-and-factory-method-and-abstract-factory/</link>
      <pubDate>Tue, 31 Dec 2019 00:00:00 +0000</pubDate>
      
      <guid>/blog/2019/architecture/design-patterns-simple-factory-and-factory-method-and-abstract-factory/</guid>
      <description>0x00 æ¨¡å¼æ¦‚è¿° è¿™ç§ä¸‰ç§è®¾è®¡æ¨¡å¼éƒ½æ˜¯å±äºåˆ›å»ºå‹ï¼Œéƒ½æ˜¯ä¸ºäº†å°†ç±»çš„åˆ›å»ºå’Œä½¿ç”¨éš”ç¦»ã€‚GoF 23 ç§è®¾è®¡æ¨¡å¼ä¸åŒ…å«ç®€å•å·¥å‚æ¨¡å¼ï¼Œå› ä¸ºç®€å•å·¥å‚åœ¨æ‰©å±•çš„æ—¶å€™éœ€è¦ä¿®æ”¹æºç ï¼Œè¿åäº†å¼€é—­åŸåˆ™
å·¥å‚æ–¹æ³•æ¨¡å¼æ˜¯ç®€å•å·¥å‚çš„å‡çº§ç‰ˆï¼Œè§£å†³äº†æ‰©å±•éœ€è¦ä¿®æ”¹æºç çš„é—®é¢˜ï¼Œæ»¡è¶³äº†å¼€é—­åŸåˆ™ã€‚
æŠ½è±¡å·¥å‚æ¨¡å¼æ˜¯å·¥å‚æ–¹æ³•çš„å‡çº§ç‰ˆï¼Œè§£å†³äº†å·¥å‚æ–¹æ³•åªèƒ½ç”Ÿäº§ä¸€ç±»äº§å“çš„é—®é¢˜ï¼Œä½†æ˜¯æŠ½è±¡å·¥å‚åœ¨å¢åŠ æ–°ç±»å‹äº§å“çš„æ—¶å€™ä¼šè¿åå¼€é—­åŸåˆ™ï¼Œè¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚
0x01 åœºæ™¯ ç®€å•å·¥å‚  åªæœ‰ä¸€ä¸ªå·¥å‚ç”Ÿäº§äº§å“ï¼ŒåæœŸä¹Ÿä¸ä¼šæ‰©å±•  å·¥å‚æ–¹æ³•  å¤šä¸ªå·¥å‚ç”Ÿäº§åŒä¸€ç±»äº§å“ï¼ŒåæœŸä¼šæ‰©å±•æ›´å¤šçš„å·¥å‚  æŠ½è±¡å·¥å‚  å¤šä¸ªå·¥å‚ç”Ÿäº§å¤šç§ç±»å‹çš„äº§å“  0x02 è§£å†³æ–¹æ¡ˆ ç®€å•å·¥å‚ ç®€å•å·¥å‚çš„ç±»å›¾ï¼ˆä¸æ˜¯æ ‡å‡†çš„ç±»å›¾ï¼Œåªæ˜¯å‡¸æ˜¾ä¸€ä¸‹ä¾èµ–å…³ç³»ï¼‰å¦‚ä¸‹æ‰€ç¤ºï¼Œclient éœ€è¦ä½¿ç”¨äº§å“ç±» A æ—¶ä¸ç›´æ¥å®ä¾‹åŒ–äº§å“ç±» Aï¼Œè€Œæ˜¯é€šè¿‡ SimpleFactory å·¥å‚ç±»çš„ createProd() æ–¹æ³•æ¥åˆ›å»ºäº§å“ç±» A å®ä¾‹ã€‚
å¦‚æœç°åœ¨éœ€è¦æ–°å¢äº§å“ç±» Bï¼Œåˆ™éœ€è¦ä¿®æ”¹ createProd() æ–¹æ³•çš„æºç ï¼Œè¿™æ˜æ˜¾è¿åäº†å¼€é—­åŸåˆ™ã€‚
+--------------------+ +---------------------------+ | | | SimpleFactory | | client +-------------&amp;gt;|---------------------------+ | | | +createProd(prodType) | +--------------------+ +---------------------------+ å·¥å‚æ–¹æ³• æ‰€ä»¥å‡ºç°äº†å·¥å‚æ–¹æ³•ï¼Œå·¥å‚æ–¹æ³•å…¶å®æ˜¯ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å®ç°ç¼–ç¨‹ï¼‰çš„ä½“ç°ï¼Œclient ä¸ä¾èµ–å…·ä½“çš„ SimpleFactoryï¼Œè€Œæ˜¯ä¾èµ–ä¸€ä¸ªæŠ½è±¡çš„å·¥å‚ AbstractFactoryï¼Œå…·ä½“çš„å·¥å‚ç»§æ‰¿è‡ª AbstractFactoryï¼Œå®ç° createProd() æ–¹æ³•å³å¯ã€‚
å¢åŠ æ–°äº§å“ C æ—¶ï¼Œåªéœ€è¦æ–°å¢åŠ  ConcreteFactoryC ç±»å³å¯ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™ã€‚
+--------------------+ +---------------------------+ | | | AbstractFactory | | client +-------------&amp;gt;|---------------------------+ | | | +createProd() | +--------------------+ +----+----------------+-----+ ^ ^ | | | | +--------------+-----+ +----+---------------+ | ConcreteFactoryA | | ConcreteFactoryB | +--------------------+ +--------------------+ | +createProd() | | +createProd() | +--------------------+ +--------------------+ æŠ½è±¡å·¥å‚ æŠ½è±¡å·¥å‚åœ¨å·¥å‚æ–¹æ³•çš„åŸºç¡€ä¸Šå¢åŠ äº†æ–°çš„äº§å“ç±»å‹ï¼ˆ2 å·äº§å“ï¼‰ï¼Œå…¶ä»–æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚ä½†æ˜¯åœ¨æ‰©å±•æ–°äº§å“ç±»å‹ï¼ˆ3å·äº§å“ï¼‰çš„æ—¶å€™éœ€è¦ä¿®æ”¹å·²æœ‰çš„ä»£ç ï¼ˆAbstractFactoryã€ConcreteFactoryAã€ConcreteFactoryB éƒ½éœ€è¦å¢åŠ  createProd3() æ–¹æ³•ï¼‰ï¼Œç ´åäº†å¼€é—­åŸåˆ™ã€‚</description>
    </item>
    
  </channel>
</rss>